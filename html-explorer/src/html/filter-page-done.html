<!DOCTYPE html>
<html lang="en">
<head>
	@@include('../components/head-meta.html', {"title": "Filter-page-done"})
	<link href="fonts/stylesheet.css" rel="stylesheet">
	@@include('../components/head-global-style.html')
	<link rel="stylesheet" href="css/filter-page.css?v.22">
	@@include('../components/head-scripts.html')
	<script src="js/script.js"></script>
	<script src="js/header.js"></script>
</head>
<body>
@@include('../components/header.html')
<main class="content filter-page__container">
	<div class="container">
		<div class="content__wrap">
			<div class="content__block-breadcrumbs mob">
				@@include('../components/breadcrumbs.html')
			</div>
			<div class="content__panel">
				<div class="content__panel-sidebar">
					@@include('../components/filter.html')
				</div>
			</div>
			<div class="content__block">
				<div class="content__block-breadcrumbs">
					@@include('../components/breadcrumbs.html')
				</div>
				<div class="content__block-title">
					<h1 class="text-medium">Результат по запросу «Талер 1768-1782» </h1>
					<p>Найдено: 15</p>
				</div>
				<div class="filter-page">
					<div class="filter-page__finder">
						@@include('../components/finder-input.html', {
							"placeholder": "Поиск по ключевым словам",
						})
						@@include('../components/finder-list.html', {
							"link-to-filter-page": "hidden",
						})
					</div>
				</div>
				<div class="content__block-wrap">
					<div class="filter-page__result js-result-content">
						<div class="filter-page__result-controls">
							<div class="filter-page__result-select select-style js-dropdown-wrap">
								<div class="select-style__btn js-dropdown-btn">
									<input type="text" placeholder="Все" readonly>
								</div>
								<ul class="select-style__body js-dropdown-body">
									<li class="select-style__item">
										<span class="select-style__option">По цене</span>
									</li>
									<li class="select-style__item">
										<span class="select-style__option">По популярности</span>
									</li>
									<li class="select-style__item">
										<span class="select-style__option">По аукционам</span>
									</li>
								</ul>
							</div>
							<div class="filter-page__result-views">
								<svg class="active js-result-view" data-info="column">
									<use xlink:href="#list"></use>
								</svg>
								<svg class="js-result-view" data-info="row">
									<use xlink:href="#view-cards"></use>
								</svg>
							</div>
							<div class="filter__btn-mob js-filter-mob-btn">
								<svg>
									<use xlink:href="#settings"></use>
								</svg>
								<span>Фильтр</span>
							</div>
						</div>
						<div class="filter-page__result-hashtags hidden">
							<div class="filter-page__result-hashtag">
								<span class="btn-style">
									Великобритания
									<svg>
									    <use xlink:href="#close"></use>
									</svg>
								</span>
							</div>
							<div class="filter-page__result-hashtag">
								<span class="btn-style">
									Николай II
									<svg>
									    <use xlink:href="#close"></use>
									</svg>
								</span>
							</div>
							<div class="filter-page__result-hashtag">
								<span class="btn-style">
									18 грош
									<svg>
									    <use xlink:href="#close"></use>
									</svg>
								</span>
							</div>
							<div class="filter-page__result-hashtag">
								<span class="btn-style">
									Золото
									<svg>
									    <use xlink:href="#close"></use>
									</svg>
								</span>
							</div>
							<div class="filter-page__result-hashtag">
								<span class="btn-style">
									Металл
									<svg>
									    <use xlink:href="#close"></use>
									</svg>
								</span>
							</div>
							<div class="filter-page__result-cleaner js-filter-reset">
								<span class="btn-style btn-gray">
									Очистить
								</span>
							</div>
						</div>
						<div class="filter-page__result-body js-result-body" data-block="column">
							<div class="filter-page__result-item">
								@@include('../components/card-horizontal.html', {
									"this-auctions": "",
									"country-item": "",
									"period-item": "",
									"edition-item": "hidden",
									"pass-active": "active",
									"pass": "6"
								})
							</div>
							<div class="filter-page__result-item">
								@@include('../components/card-horizontal.html', {
									"this-auctions": "",
									"country-item": "",
									"period-item": "",
									"edition-item": "hidden",
									"pass-active": "",
									"pass": "0"
								})
							</div>
							<div class="filter-page__result-item">
								@@include('../components/card-horizontal.html', {
									"this-auctions": "",
									"country-item": "",
									"period-item": "",
									"edition-item": "hidden",
									"pass-active": "",
									"pass": "0"
								})
							</div>
						</div>
						<div class="filter-page__result-body row js-result-body hidden" data-block="row">
							<div class="filter-page__result-item">
								@@include('../components/card-two-images.html', {
									"this-auctions": "",
									"country-item": "",
									"period-item": "",
									"edition-item": "hidden",
									"pass-active": "active",
									"pass": "6"
								})
							</div>
							<div class="filter-page__result-item">
								@@include('../components/card-two-images.html', {
									"this-auctions": "",
									"country-item": "",
									"period-item": "",
									"edition-item": "hidden",
									"pass-active": "",
									"pass": "0"
								})
							</div>
							<div class="filter-page__result-item">
								@@include('../components/card-two-images.html', {
									"this-auctions": "",
									"country-item": "",
									"period-item": "",
									"edition-item": "hidden",
									"pass-active": "",
									"pass": "0"
								})
							</div>
						</div>
					</div>
					<div class="filter-page__pagination">
						@@include('../components/pagination.html')
					</div>
				</div>
			</div>
		</div>
	</div>
</main>
@@include('../components/footer.html')
<script>

	$('.js-filter-mob-btn').on('click', function () {
		$('.js-filter').show();
		disableScroll();
	});
	$('.js-filter-mob-close').on('click', function () {
		$('.js-filter').hide();
		enableScroll();
	});

	$(".checkbox__label-check").each(function () {
		$(this).change(function () {
			if($(".checkbox__label-check").filter(":checked").length > 0) {
				$('.filter-page__result-hashtags').removeClass('hidden');
				$('.js-filter-reset').removeClass('hidden');
				$('.js-filter-show-btn').text('Показать результат (15)').removeAttr('disabled');
				$('.js-filter-wrap').addClass('checked');

				if($(window).height() + $(document).scrollTop() < $('.js-filter').offset().top + $('.js-filter').height() - 100) {
					$('.js-filter-btns').addClass('fix');
				}
				else {
					if($('.js-filter').scrollTop() < $('.js-filter-wrap').height() - $(window).height() - 100 && $('.js-filter-wrap').height() > $('.js-filter').height()) {
						$('.js-filter-btns').addClass('fix');
					}
					else {
						$('.js-filter-btns').removeClass('fix');
					}
				}
			}
			else {
				$('.js-filter-reset').addClass('hidden');
				$('.js-filter-show-btn').text('Найти').attr('disabled', true);
				$('.js-filter-btns').removeClass('fix');
				$('.js-filter-wrap').removeClass('checked');
			}
		});
	});


	$(document).scroll(function () {
		if($(".checkbox__label-check").filter(":checked").length > 0 && $(document).scrollTop() > $('.js-filter').offset().top - $(window).height() && $(window).height() + $(document).scrollTop() <  $('.js-filter').offset().top + $('.js-filter').height()) {
			$('.js-filter-btns').addClass('fix');
		}
		else {
			$('.js-filter-btns').removeClass('fix');
		}
	});
	$('.js-filter').scroll(function () {
		if(($(".checkbox__label-check").filter(":checked").length > 0 && $('.js-filter').scrollTop() < $('.js-filter-wrap').height() - $(window).height() - 100)) {
			$('.js-filter-btns').addClass('fix');
		}
		else {
			$('.js-filter-btns').removeClass('fix');
		}
	});

	$('.js-filter-reset').on('click', function () {
		$(this).addClass('hidden');
		$('.filter-page__result-hashtags').addClass('hidden');
		$('.js-filter-btns').removeClass('fix');
		$('.js-filter-wrap').removeClass('checked');
		$(".checkbox__label-check").prop('checked', false);
		$('.js-filter-show-btn').text('Найти').attr('disabled', true);
	})




	$( window ).resize(function() {
		if($(window).width() >= 960) {
			$('.js-filter').removeAttr('style');
		}
	});

	$('.js-result-view').on('click', function () {
		if(!$(this).hasClass('active')){
			$('.js-result-body').addClass('hidden');
			$('.js-result-view').removeClass('active');
			$(this).addClass('active');
			$('.js-result-content').find("div[data-block='" + $(this).attr('data-info') +"']").removeClass('hidden');
		}
	});

</script>
</body>
</html>
